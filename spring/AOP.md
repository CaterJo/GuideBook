AOP패턴 
======
- AOP(Aspect Oriented Programming) 
- 횡단 관심사
- AOP를 제공하는 것 2가지 (Aspect J 라이브러리, SPRING) 


### 0. AOP의 등장배경

*객체지향*이란  
기능의 분산, 중복되는 코드를 최소화, 모듈화를 통한 재활용한다.
모듈을 만들어도 모듈을 호출하는 부분에 대한 중복이 발생한다.

AOP의 등장배경에는 앞서 말한 객제지향의 한계점에서 출발한다.  
AOP를 이용하면 이런 모듈호출 중복제거가 가능하다.  
자동으로 원하는 모듈을 호출한다.  
객체지향을 좀더 객체지향답게 만든다.  
인터셉터 기능.  


### 1. 정의

기능을 핵심 비지니스 로직과 공통 모듈로 구분하고,
핵심 로직에 영향을 미치지 않으면서 사이 사이에 공통 모듈을 효과적으로 끼워 넣도록 개발하는 방법.  
	

### 2. 구현 방법

1)  컴파일 시점에 코드에 공통 기능을 추가하는 방법
	- ASPECJ 의 방식.
2)  클래스 로딩 시점의 바이트 코드에 추가하는 방법.
	-  컴파일 시점.
3)  런타임에 프록시 객체를 생상해서 추가하는 방법.
	-  스프링에서 제공하는 방식, 실행될때!

	
### 3.  구성요소
1) pointcut	:  삽입되는 위치.
2) Joinpoint	:  삽입되는 위치를 묶어서 관리함 (코드가 조인될 위치를 파악한다) 
3) Advice		:  target을 어디에 어느위치에 어느시점에서 끼워넣을것인가..?, 전체적인 삽입관리
4) Weaving	:  연결하다
5) Target		: 적용될 코드, 모듈
6) Advisor 	: 적용시점,조인포인트랑 포인트컷,어드바이스를 묶어서 관리한다.

### 4. Advice의 적용시점

#### Before Advice		
메서드를 실행하기 전에 처리하겠다.
#### After Returning Advice
메서드가 실행되고 난후에 처리하겠다.(에러없이 끝났을때만...) 
####  After Throwing Advice
메서드가 실행되고 난후에 예외가 발생했을때만 처리한다!
####  Atter Advice		
에러가 나든 안나든 무조건 메서드가 끝나면 실행된다.
한번만 처리된다.	

#### Around Advice
메서드의 전후로 한번씩! 두번 처리된다.  
가장 널~~리 사용됩니다.


### 인터셉터 (interceptor)
- interceptor(차단하다,저지하는) 
- 가로채서 중간에 코드를 삽입한다.
	


------------------------------------------------------

## 핵심 용어


	
### **Jointpoit**
- 메소드를 호출하는 '시점', '예외가 발생하는 시점'과 같이 애플리케이션을 실행할 때 특정 작업이 실행되는 시점.
- 부가 기능이 삽입 될 위치


### **Advice**
- Joinpoint에서 실행되어야 하는 코드
- 횡단관점에 해당함(트랜잭션/로그/보안/인증등) 

### **Target**
- 실질적인 비지니스 로직을 구현하고 있는 코드
- 핵심관점에 해당한다

### **Pointcut**
- Tatget 클래스와 Advice가 결합(weaving) 될때 둘 사이의 결합규칙을 정의하는 것이다.
- 예로 Advice가 실행된 Target의 특정 메소드등을 지정
- 부가 기능이 삽입 될 대상을 지정하는 것을 말한다.

### **Aspect**
- Advice와 Pointcut을 합쳐서 하나의 Aspect라고 한다.
- 즉 일정한 패턴을 가지는 클래스에 Advice를 적용하도로 지원할 수 있는 것을 Aspect 라고 한다.

### **Weaving**
- Aop에서 JointPoint들을 Advice로 포장하는 것을 Weaving이라고 한다.
- Weaving하는 작업을 도와주는것이 AOP툴(AspectJ etc) 이 하는 역할이다.
	
### **target**		
-  분리된 코드,모듈
### **advice**
-  target을 어디에 어느위치에 어느시점에서 끼워넣을것인가..?, 전체적인 삽입관리
- 위빙.weaving(연결한다) 
- 조인포인트 위치에 해당코드를 적용할 수 있게 도와주는것이 어드바이스다. 
- 어느 시점, 언제 적용할 것인가..??


### **point cut**
-  삽입되는 위치.

### **Join point**
- 삽입되는 위치를 묶어서 관리함 (코드가 조인될 위치를 파악한다) 
- **핵심로직코드 : 모듈코드를 제외한 코드.

### **Advisor** (어드바이저) 
- advisor와 Pointcut을 하나로 묶어 다루는 것
- 어드바이스가 여러개 만들어진다. 즉 모듈이 많다는 얘기
- 이때 이런 어디바이스를 하나로 묶어서 관리하는것이 어드바이져.
- 조인포인트, 타겟,어드바이스 등을 하나로 묶어주는개념.

### **프락시 패턴**
-  일처리를 도맡아주는 패턴.


### AOP컨테이너
어떤 기능에 어떤 모듈이 필요한지 설정해준다.
aspect 관점을 축소해서 디테일하게 본다.
중복되는것을 어떻게 줄일것인가..???


