# 데이터 베이스 설계(data modeling) 

다른프로그램도 무결성에 대한 부분이 지켜져 있지 않다면
데이터베이스가 뚫린다.<br>
그렇기 때문에 DB에 무결성의 속성이 있어야한다.
안전한 관리를 위해선 무결성을 해야한다.<br>

- 미팅
- 요구사항수집 
- 요구사항정리
- DB설계(논리,물리,개념) 
- 프로그램코딩 
- 테스트 디버깅
- 납품-유지보수



### 이론적 설계 3단계.
1) 개념적 설계
	- 요구사항정리.(미팅내용을 잘 정리) 
	- 그림으로 표현하는것이 편리함.(ERD.) 

2) 논리적 설계
3) 물리적 설계
	- ERD( entity relation diagram) 
	- 데이터의 도식화 표준.
	- 테이블간의 관계망.
	- 간략한것은 그냥 순서도라고 생각하면됨.


### 주식별자
- 기본키. (primary key) 


### 관계망.
- 공통필드의 유무.


1) 일대일
	- 대부분 합친다.
	- 합치지 않는 경우는 자주쓰지 않는경우.


2) 일대다.
		- 일반적으로 일대다의 관계가 많다.
		- 부모자식관계라고도 한다.


3) 다대다
	- 기형적 형태.
	- 엄청난 중복을 야기한다. cause a lot of 중복.


### 관계(마름모) 도 상황에 따라 테이블이 될 수 있다.



### Entity뽑기
- 명사, 형용사, 동사를 분리해낸다.
- 명사는 테이블이 될 확률이 높다.




### 정규화
- 노하우가 집약되어있는 가이드라인.
- 보편적 설계를 할 수 있게 도와준다.
- 일반적으로 제 3정규화까지 실무에서 적용된다.


1) 제 1 정규화
	- 속성값은 반드시 원자값이어야한다.(하나의 필드에 여러개의 값이 들어가면 안된다) 
	- 이런 경우 2개의 테이블로 쪼개라.

2) 제 2 정규화
	- 기본키가 여러개의 필드로 묶여있는 경우.
	- 기본키가 복합키 일때, 복합키의 일부분이 다른 속성의 결정자인지 여부 판단.
	- 모든 키가 아닌 컬럼은 기본키 전체에 의존적이어야 한다.
	- 기본키의 일부분에 의존적이어서는 안된다.

ex) 사번,프로젝트번호를 묶어서 기본키를 설정한 경우.
	- 이때 테이블 안에 사번이나 프로젝트 필드 한가지에만 관계가 있는 필드가 있어서는 안된다.
	- 이렇게 기본키중 일부에만 관계를 가지는 필드가 있는경우 외부테이블로 독립시킨다.
	- 독립시킬때 테이블간의 관계망을 반드시 생각해야한다(일반적으로 일대다의 관계) 


3) 제 3 정규화
	- 키가 아닌 컬럼은 '키가 아닌 컬럼'에 의존적이어서는 안된다.
	- 오직 기본키와 의존적 관계가 형성 되어야한다.
	- 기본키와 독립적인 필드가 있으면 안된다.
	- 모든 필드는 반드시 기본키에 의존적이어야 한다.


 4) 제 4 정규화
	- 다대다를 일대다로 변환
		

5) 제 5 정규화

### 몇몇 예외적인 정규화 경우.
- 꼭 나누는것만이 정규화가 아니다. 트랜드, 상황에 따라 정규화형태는 다양해질 수 있다.
- 자주 조인을 하는경우 (조인을 피하기위해 중복필드를 생성한다) 
- L자 테이블.


## ERD툴: ER-WIN, EX-ERD

### ER-win
- 표기법(미국방성 표기프로젝트IDEF1X , IE 'infromation Enginering') 
- 식별관계(주로 일대일관계)  
- 비식별 관계(구별할 수 없다, 주로 일대다관계.) 


### 동그라미없음 : Nullable False
### 동그라미 : Nullable True
### 점선 : 비식별
### 실선 : 식별

### 일대일 식별관계로 설정하는방법