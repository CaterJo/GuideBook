# Ajax

## 설명
Asynchronous JavaScript and XML  
Javascript 와 xml을 이용한 비동기적 통신 방법.  
근래에는 JSON방식이 사용된다.  
    

## 등장배경
**form Tag 전송방식의 단점**  
- 요청 마다 페이지의 모든 리소스 다시 내려받아서 서버 부하가 큼
- 브라우저가 매번 똑같인 레이아웃의 페이지를 랜더링해야함.
- 성능상 문제뿐만 아니라 화면이 깜빡이는 현상(리랜더링)이 발생.


## AJAX 원리.
1. 브라우저가 사이트에 접속하면 서버는 사이트의 기본 얼개를 담은 템플릿을 전달한다.
2. 브라우저는 수신받은 템플릿을 HTML과 CSS를 해석해 화면의 모양으로 그린다.
3. 계속해서 서버는 요청 방식과 수신받은 데이터를 어떻게 가공해야 하는지를 기술한 자바스크립트파일을 전달한다.
4. 브라우저는 자바스크립트 파일을 해석해서 파일에 기술된 방식대로 서버에 추가 데이터를 요청한다.
    - 정확히는 위에서 수신받은 템플릿 HTML파일 안에 자바스크립트 파일을 추가로 요청하라는 지시가 적혀있고 브라우저는 이 지시에 따라 서버에 해당 파일을 요청한다.
5. 서버는 순수 데이터를 응답으로 되돌려준다.
6. 브라우저는 수신한 데이터를 해석하여 템플릿의 적절한 위치에 삽입한다. 데이터의 가공 방식에 따라 삽입 외의 작업을 할 수도 있다.




## 장점
- 페이지 이동없이 고속으로 화면 전환이 가능하다.
- 서버 처리를 기다리지 않고, 비동기 요청이 가능하다.
- 수신하는 데이터 양을 줄일 수 있고 클라이언트에게 처리를 위임할 수 있다.

## 단점
- HTTP 클라이언트의 기능이 한정되어 있다.
- 페이지 이동없는 통신으로 인한 보안상의 문제.
- 지원하는 charset이 한정적이다.
- 스크립트로 작성되므로 디버깅이 용이하지 않다.
- 요청을 남발하면 역으로 서버 부하가 늘 수 있다.
- 단방향 통신이라는 단점. (*cf.* 웹 소켓)
- AJax는 최소 두 번의 데이터 요청을 요하기 때문에 아주 빠른 초기로딩을 요할 때 반응 속도 가 늦는다.


**AJAX 동작원리**
일반적으로 4회이상 HTML, CSS, JS 로딩 후 Ajax call 1회)



## 참고
- https://namu.wiki/w/AJAX#rfn-4