# Web Application



## 정의
- web서버의 기능들을 구조적으로 분히하여 처리하고자 하는 목적으로 제시 된 것
- 웹서버가 직접 어플리케이션 프로그램을 처리하는 것이 아니라 웹 어플리케이션 서버(was)에게 처리를 넘겨주고 
어플리케이션 서버가 어플리케이션 프로그램을 처리한다. 여러 명의 사용자가 동일한 페이지 요청을 하여 
여러 어플리케이션 프로그램을 처리할 때 오직 한개의 프로세스만을 할당하고 사용자의 요청을 쓰레드방식(servlet/jsp)으로 처리한다.



![](/resource/img/server/webApplication.png)



1. 클라이언트가 브라우저 주소 입력란에 주소를 입력하면 브라우저가 해당 웹서버에 웹페이지를 요청한다. 단 요청한 페이지가 단순한 정적 페이지라면 웹 서버에서 바로 클라이언트에게 해당 페이지를 전송한다.
2. 해당 웹 서버는 입력된 회원 정보를 웹 애플리케이션 서버로 전동한다.
3. 요청한 페이지는 웹 서버에서 바로 제공하지 못하고 웹 애플리케이션 서버에서 다양한 로직이나 ㄷ에이터베이스와의 연동을 통해서 완성되어야만 ㄷ제공된다. 웹 애플리케이션 서버는 웹 서버가 클라이언트에게 제공할 페이지를 완성하기 위해 이에 필요한 로직이나 데이터 베이스와의 연동과 데이터 처리를 담당한다.
4. 로직이나 데이터 베이스 작업 처리 결과를 웹서버에게 보낸다.
5. 웹 서버는 이 결과를 다시 클라이 언트 측 브라우저에 응답한다.
6. 회원 가입이 성공적으로 이뤄졌다면 가입 당시 입력된 정보를 확인하기 위해서 출력한다.


## 통신과정

0. 도메인주소입력.
1. 브라우저는 DNS 서버로 가서 웹사이트가 있는 서버의 진짜 주소를 찾는다.
2. 그 다음 브라우저는 서버에게 웹사이틍의 사본을 클라이언트에게 보내 달라는 HTTP 요청 메세지를 서버로 전송합니다.
    이 메세지, 그리고 클라이언트와 서버 사이에 전송된 모든 데이터는 TCP/IP 연결을 통해서 전송된다.
3. 이 메세지를 받은 서버는 클라이언트의 요청을 승인하고 "200"메세지를 클라이언트에게 전송한다.
    그 다음 서버는 웹사이트의 파일을 데이터 패킷이라 불리는 작은 덩어리들로 브라우저에 전송하기 시작한다.
4. 브라우저는 데이터 패킷들을 완전한 웹사이트로 조립하고 클라이언트에게 출력한다.





## 1. Web Server


## 2. Web Application Server
- 웹과 기업의 기간 시스템 사이에 위치하면서 웹 기반 분산 시스템 개발을 쉽게 도와주고 안정적인 트랜잭션 처리르 보장해주는 일종의 미들웨어 소프트웨어.
- 클라이언트와 서버 환경에서 트랜잭션 처리 및 기존 시스템 간의 애플리케이션 연동등이 주 기능.
- 서버단에서 애플리케이션이 동작할 수 있는 환경을 제공한다 (JSP,PHP처럼 자바소스를 처리하는것이 바로 was다)
- 기존의 정적인 처리만 하던 웹서버와 달리, 동적인 요구 대응하기 위한 형태로 변화, 클라이언트에게는 연산을 하여 산출된 결과값을 전달한다.
- 웹 서버는 이러한 연산처리리 없이 평면적인 데이터 통신을 한다.
- 동적 data처리, 동적 데이터를 처리하는 환경을 제공한다.
- 웹상에서 사용되는 컴포넌트(애플리케이션)들을 올려놓고 사용하게 되는 서버.
- 클라이언트 요청이 있을때 내부의 프록그램을 통해 결과를 만들어내고 이것을 다시 클라이언트로 전댈해주는 역할을 하는것이 웹 컨테이너.
- 예를들면 JSP를 WAS에서 JAVA CLASS파일로 컴파일 후 html형태의 페이지로 클라이언트에게 전달.


### 1.역할
- JSP, Servlet등의 서버 애플리케이션의 구동환경(컨테이너) 제공
    ->JSP 컨테이너, servlet컨테이너,EJB Container 
- 프리젠테이션과 비지니스로직을 분리 운영
- 쓰레드 관리
- 부하조절 기능(로드 밸런싱-load Balancing)
- 장애대첵(fail-Over)
- 트랜잭션 처리 자동화
- 웹서비스 플랫폼으로써의 역할

### 2. 도입효과
	DB 성능 보장 : WAS서버가 DB서버와의 최적 사용을 조절화, DB connection pool을 총해 DB connection 관리 및 트랜잭션 처리












	*기능
		->크게 웹서버의 기능과 컨테이너의 기능으로 구성된다.
		1)web서버 : 클라이언트로부터 요청을 받는 일과 화면에 표현하는 로직을 담당
		2)컨테이너 : 다양한 기능을 수행하는 비지니스 로직담당

		-web서버
		-Sevlet/jsp 컨테이너
		-EJB 컨테이너
		-트랜잭션 관리
		-네이밍 서버
		-JDBC드라이버
		-클러스터

	*처리방식
		웹 서버가 직접 어플리케이션 프로그램을 처리하는 것이 아니다.
	 	was서버에게 처리를 넘겨주고 어플리케이션 서버가 어플리케이션 프로그램을 처리한다.
		여러 명의 사용자가 동일한 페이지를 요청하여 같은 어플리케이션 프로그램을 처리할 때 
		오직 한 개의 프로세스만을 할당하고 사용자의 요청을 쓰레드 방식으로 처리한다.
		메로리를 절약 할 수 있다. 따라서 동시에 여러 사용자에게 서비스 제공이 가능한다.
		

*실행코드 방식
	코드 형식: 컴파일 된 실행 프로그램
	실행 방식: 컴파일된 기계어 코드 직접실행
	코드 변경: 소스코드를 다시 컴파일해야한다.
	종     류: 대부분의 CGI프로그램
	구     현:
			웹브우저 요청전송
				-웹서버 요청받음
				-웹 어플리케이션 실행

*스크립트코드 방식
	코드 형식: 컴파일되지 않은 스크립트 코드
	실행 방식: 스크립트 코드를 해석한 뒤 실행
	코드 변경: 스크립트 코드만 고치면 된다.
	종     류: JSP, ASP, PHP
	구     현: 
		웹브라우저 요청 전송
			-웹 서버 요청을 받음
			-스크립트 코드 번역
			-번역된 코드 실행
			#번역이 최초에 한번만 실행되기 때문에 속도가 빠르다.











#WAS 제품군 비교



1. WebLogic(웹로직)
	- 오라클에서 개발한 크로스 플랫폼 Java EE 애플리케이션 서버
	- 웹 기반 관리자 콘솔 제공( JMS, 데이터 소스 및 보안 설정 등)
	- JMS 클러스터링
	- 안정성
	- 대기업에서 사용함

2. Jboss
	- Java EE기반 응용프로그램 서버
	- Java EE도 구현가능
	- 크로스 플랫폼 서버

3. Jeus
	- 티맥스 소프트 제작
	- 공공시장 기반으로 영역 확대


    
## 웹 컨테이너
	1)웹 서버가 클라이어트로 부터 서블릿 요청을 받는다.
	2)웹 서버는 서블릿을 관리하는 컨테이너에게 요청을 넘긴다.
	3)요청을 넘겨받은 컨테이너는 HTTP reqeust와 HTTP Response 객체를 만들어 이를 각자
		Servlet doPost()나 doGet() 메서드 중 하나를 호출한다.
	-컨테이너는 서블릿과 웹 서버가 서로 통신할 수 있는 손쉬운 방법을 제공하고 서블릿의 라이프 사이클을 관리하고 요청이 들어올때 마다
	쓰레드에 대한 멀티쓰레딩을 지원하며 보안관리, jsp를 지원한다.
	J2EE에서는 두 타입의 컨테이러를 제공한다.
	웹 컨테이너와  EJB컨테이너이다.
	웹컨테이너는 servlet과 jsp에 대한 실행 환경을 제공한다.
	EJB컨테이너는 Enterprise JavaBeans에 대한 실행환경을 제공한다.


	

